

# 拼图

有两问，第一问就是有一个$2\times n$的长方形，我们要在里面放上$1\times 2$的纸片来将它填满，问有多少种不同的方法。第二问还是有$2\times n$的一个长方形，我们要用$1\times k (k\in N_+)$的纸片来将它填满，问有多少种不同的方法。

###  第一问
对于第一问，我们考虑铺满$2\times n$的长方形之前，时只有两种情况的。
我们注意到：
如果前面$n-1$列都已经铺满了，那么我们只用竖着填满就好了，如果是前面$n-2$列铺满了，我们就横着铺两个纸片就能填满。

令$f_n$表示填满填满$n$列的答案。
则有：
$$
f_n=f_{n-1}+f_{n-2}
$$

### 第二问
#### 一个引理
我们首先考虑$1\times n$的长方形，我们要将它用$1\times k$的纸片来填满的方案数。

令$g_n$表示填满$1\times n$的长方形的方案数。

注意到，对于格子，我们有两种决策方案：

1.放在前一个长条之中

2.新建一个长条，放在它里面
特别地，对于第一个格子，我们只有一种方案就是新建一个长条。

则有：
$$
g_n=2^{n-1}
$$
特别地，我们定义$g_0=1$
#### 具体推导
令有$n$列的方案数为$t_n$。

注意到，对于$2\times n$的长方形，我们用的纸条都是$1\times k$的，那么，我们将纸条竖着放的时候，它只可能是$1\times 2$的，我们称这样的竖纸条为$S$。

对于一个填满了纸条的方案来说，我们设从左开始，第一次出现$S$的列数为$p$，那么，在$1$到$p-1$这些列中，都没有$S$。

对于$S$之前的，由引理1可知，方案数为$g_{p-1}\times g_{p-1}$。对于$S$之后的，方案数就是$t_{n-p}$。

可知：
$$
t_n=\sum_{p=1}^n(g^2_{p-1}+t_{n-p})+g^2_{n}
$$

即：

$$
t_n=g^2_0\cdot t_{n-1}+g^2_1\cdot t_{n-2}+\cdots+g^2_{n-2}\cdot t_1+g^2_{n-1}\cdot t_0+g^2_{n} 
$$

将$g_n$代入：

$$
t_n=4^0\cdot t_{n-1}+4^0\cdot t_{n-2}+\cdots+4^{n-3}\cdot t_1+4^{n-2}\cdot t_0+4^{n-1}
$$

原式$\times 4$得：

$$
4t_n=4^1\cdot t_{n-1}+4^2\cdot t_{n-2}+\cdots+4^{n-2}\cdot t_1+4^{n-1}\cdot t_0+4^{n} \qquad ①
$$

又推得：
$$
t_{n+1}=\sum_{p=1}^{n+1}(g^2_{p-1}+t_{n+1-p})+g^2_{n+1}
$$

即：
$$
t_{n+1}=4^0\cdot t_{n}+4^0\cdot t_{n-1}+\cdots+4^{n-2}\cdot t_1+4^{n-1}\cdot t_0+4^{n}\qquad ②
$$

②-①得：
$$
t_{n+1}-4t_n=4^0\cdot t_n+4^0\cdot t_{n-1}-4^1\cdot t_{n-1}
$$

整理，得：
$$
t_{n+1}=5t_n-3t_{n-1}
$$

变形，得：
$$
t_{n}=5t_{n-1}-3t_{n-2}
$$

